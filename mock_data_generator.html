<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Monitoring System - Mock Data Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .controls {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .control-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .control-item {
            display: flex;
            flex-direction: column;
        }

        .control-item label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
        }

        .control-item input, .control-item select {
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .control-item input:focus, .control-item select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #219a52);
            color: white;
        }

        .btn-info {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #d68910);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .output-section {
            padding: 30px;
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .output-header h3 {
            font-size: 1.5rem;
            color: #2c3e50;
        }

        .copy-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.3s ease;
        }

        .copy-btn:hover {
            background: #5a6268;
        }

        .output {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                padding: 20px;
            }
            
            .button-group {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• Mock Data Generator</h1>
            <p>Generate realistic test data for Patient Monitoring System API</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <div class="control-item">
                    <label for="patientCount">Number of Patients</label>
                    <input type="number" id="patientCount" min="1" max="1000" value="10">
                </div>
                <div class="control-item">
                    <label for="vitalsDays">Vital Signs Days</label>
                    <input type="number" id="vitalsDays" min="1" max="30" value="7">
                </div>
                <div class="control-item">
                    <label for="alertCount">Number of Alerts</label>
                    <input type="number" id="alertCount" min="0" max="100" value="15">
                </div>
                <div class="control-item">
                    <label for="deviceCount">Number of Devices</label>
                    <input type="number" id="deviceCount" min="1" max="50" value="8">
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="generatePatients()">üë• Generate Patients</button>
                <button class="btn btn-success" onclick="generateVitalSigns()">üíì Generate Vitals</button>
                <button class="btn btn-info" onclick="generateAlerts()">üö® Generate Alerts</button>
                <button class="btn btn-warning" onclick="generateDevices()">üì± Generate Devices</button>
                <button class="btn btn-danger" onclick="generateAll()">üîÑ Generate All</button>
            </div>
        </div>

        <div class="stats" id="stats" style="display: none;">
            <div class="stat-card">
                <div class="stat-number" id="statPatients">0</div>
                <div class="stat-label">Patients</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="statVitals">0</div>
                <div class="stat-label">Vital Signs</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="statAlerts">0</div>
                <div class="stat-label">Alerts</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="statDevices">0</div>
                <div class="stat-label">Devices</div>
            </div>
        </div>

        <div class="output-section">
            <div class="output-header">
                <h3 id="outputTitle">Generated Data</h3>
                <button class="copy-btn" onclick="copyToClipboard()">üìã Copy JSON</button>
            </div>
            <div class="output" id="output">Click a generate button above to see mock data...</div>
        </div>
    </div>

    <div class="toast" id="toast">Data copied to clipboard!</div>

    <script>
        // Mock data generators
        const mockData = {
            patients: [],
            vitalSigns: [],
            alerts: [],
            devices: [],
            users: [],
            medicalRecords: []
        };

        // Sample data arrays
        const firstNames = ['John', 'Jane', 'Michael', 'Sarah', 'David', 'Emily', 'Robert', 'Ashley', 'Christopher', 'Jessica', 'Matthew', 'Amanda', 'Joshua', 'Stephanie', 'Andrew', 'Jennifer', 'Daniel', 'Elizabeth', 'Anthony', 'Samantha'];
        const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez', 'Hernandez', 'Lopez', 'Gonzalez', 'Wilson', 'Anderson', 'Thomas', 'Taylor', 'Moore', 'Jackson', 'Martin'];
        const departments = ['Cardiology', 'Emergency', 'ICU', 'Surgery', 'Pediatrics', 'Oncology', 'Neurology', 'Orthopedics'];
        const deviceTypes = ['heart_monitor', 'blood_pressure', 'thermometer', 'pulse_oximeter', 'multi_parameter'];
        const alertTypes = ['vital_sign_abnormal', 'device_malfunction', 'medication_due', 'emergency'];
        const priorities = ['low', 'medium', 'high', 'critical'];
        const roomNumbers = ['A-101', 'A-102', 'A-103', 'B-201', 'B-202', 'B-203', 'C-301', 'C-302', 'ICU-01', 'ICU-02', 'ER-01', 'ER-02'];

        // Utility functions
        function randomChoice(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function randomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function randomFloat(min, max, decimals = 1) {
            return parseFloat((Math.random() * (max - min) + min).toFixed(decimals));
        }

        function generateId() {
            return Math.random().toString(36).substr(2, 9);
        }

        function generateDate(daysAgo = 0) {
            const date = new Date();
            date.setDate(date.getDate() - daysAgo);
            return date.toISOString();
        }

        function generatePhoneNumber() {
            return `+1-${randomInt(200, 999)}-${randomInt(100, 999)}-${randomInt(1000, 9999)}`;
        }

        function generateEmail(firstName, lastName) {
            const domains = ['gmail.com', 'yahoo.com', 'outlook.com', 'hospital.com'];
            return `${firstName.toLowerCase()}.${lastName.toLowerCase()}@${randomChoice(domains)}`;
        }

        // Patient generation
        function generatePatient() {
            const firstName = randomChoice(firstNames);
            const lastName = randomChoice(lastNames);
            const id = generateId();
            
            return {
                id: id,
                first_name: firstName,
                last_name: lastName,
                date_of_birth: new Date(randomInt(1940, 2010), randomInt(0, 11), randomInt(1, 28)).toISOString().split('T')[0],
                gender: randomChoice(['male', 'female', 'other']),
                phone: generatePhoneNumber(),
                email: generateEmail(firstName, lastName),
                emergency_contact: {
                    name: `${randomChoice(firstNames)} ${randomChoice(lastNames)}`,
                    relationship: randomChoice(['Spouse', 'Child', 'Parent', 'Sibling', 'Friend']),
                    phone: generatePhoneNumber()
                },
                medical_record_number: `MRN${String(randomInt(100000, 999999))}`,
                admission_date: generateDate(randomInt(0, 30)),
                room_number: randomChoice(roomNumbers),
                status: randomChoice(['active', 'inactive', 'discharged', 'critical']),
                assigned_doctor: `Dr. ${randomChoice(lastNames)}`,
                created_at: generateDate(randomInt(1, 100)),
                updated_at: generateDate(randomInt(0, 7))
            };
        }

        // Vital signs generation
        function generateVitalSigns(patientId, daysAgo = 0) {
            const baseHeartRate = randomInt(60, 100);
            const baseSystolic = randomInt(110, 140);
            const baseDiastolic = randomInt(70, 90);
            const baseTemp = randomFloat(97.0, 99.5, 1);
            const baseO2Sat = randomInt(95, 100);
            const baseRespRate = randomInt(12, 20);

            return {
                id: generateId(),
                patient_id: patientId,
                timestamp: generateDate(daysAgo),
                heart_rate: Math.max(40, Math.min(200, baseHeartRate + randomInt(-10, 10))),
                blood_pressure: {
                    systolic: Math.max(80, Math.min(200, baseSystolic + randomInt(-15, 15))),
                    diastolic: Math.max(50, Math.min(120, baseDiastolic + randomInt(-10, 10)))
                },
                temperature: Math.max(95.0, Math.min(106.0, baseTemp + randomFloat(-1.5, 1.5, 1))),
                oxygen_saturation: Math.max(85, Math.min(100, baseO2Sat + randomInt(-5, 2))),
                respiratory_rate: Math.max(8, Math.min(40, baseRespRate + randomInt(-3, 3))),
                device_id: generateId(),
                recorded_by: `${randomChoice(firstNames)} ${randomChoice(lastNames)}`,
                notes: Math.random() > 0.7 ? randomChoice(['Patient resting', 'Post-exercise', 'Patient anxious', 'Normal reading', 'Slight irregularity noted']) : null
            };
        }

        // Alert generation
        function generateAlert(patientId = null) {
            const type = randomChoice(alertTypes);
            const priority = randomChoice(priorities);
            const alertMessages = {
                vital_sign_abnormal: [
                    { title: 'High Heart Rate Alert', message: 'Patient heart rate exceeds normal range', value: '120 bpm', threshold: '100 bpm' },
                    { title: 'Low Blood Pressure Alert', message: 'Patient blood pressure below normal', value: '85/50 mmHg', threshold: '90/60 mmHg' },
                    { title: 'High Temperature Alert', message: 'Patient temperature elevated', value: '102.5¬∞F', threshold: '100.4¬∞F' },
                    { title: 'Low Oxygen Saturation', message: 'Patient oxygen saturation below normal', value: '88%', threshold: '95%' }
                ],
                device_malfunction: [
                    { title: 'Device Connection Lost', message: 'Heart monitor disconnected', value: null, threshold: null },
                    { title: 'Sensor Error', message: 'Blood pressure cuff malfunction', value: null, threshold: null },
                    { title: 'Battery Low', message: 'Device battery critically low', value: '5%', threshold: '20%' }
                ],
                medication_due: [
                    { title: 'Medication Reminder', message: 'Patient medication due', value: null, threshold: null },
                    { title: 'Missed Medication', message: 'Patient missed scheduled medication', value: null, threshold: null }
                ],
                emergency: [
                    { title: 'Code Blue', message: 'Patient in cardiac arrest', value: null, threshold: null },
                    { title: 'Respiratory Distress', message: 'Patient experiencing breathing difficulties', value: null, threshold: null }
                ]
            };

            const alertData = randomChoice(alertMessages[type]);
            const status = randomChoice(['active', 'acknowledged', 'resolved']);
            
            return {
                id: generateId(),
                patient_id: patientId || generateId(),
                type: type,
                priority: priority,
                status: status,
                title: alertData.title,
                message: alertData.message,
                value: alertData.value,
                threshold: alertData.threshold,
                created_at: generateDate(randomInt(0, 7)),
                acknowledged_at: status !== 'active' ? generateDate(randomInt(0, 3)) : null,
                acknowledged_by: status !== 'active' ? `${randomChoice(firstNames)} ${randomChoice(lastNames)}` : null,
                resolved_at: status === 'resolved' ? generateDate(randomInt(0, 1)) : null,
                resolved_by: status === 'resolved' ? `${randomChoice(firstNames)} ${randomChoice(lastNames)}` : null,
                notes: Math.random() > 0.5 ? 'Alert handled according to protocol' : null
            };
        }

        // Device generation
        function generateDevice() {
            const type = randomChoice(deviceTypes);
            const manufacturers = {
                heart_monitor: ['Philips', 'GE Healthcare', 'Mindray'],
                blood_pressure: ['Omron', 'Welch Allyn', 'A&D Medical'],
                thermometer: ['Braun', 'Exergen', 'Omron'],
                pulse_oximeter: ['Masimo', 'Nonin', 'Mindray'],
                multi_parameter: ['Philips', 'GE Healthcare', 'Draeger']
            };
            
            const manufacturer = randomChoice(manufacturers[type]);
            const serialNumber = `SN${randomInt(100000000, 999999999)}`;
            
            return {
                id: generateId(),
                name: `${type.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase())} #${randomInt(1, 999).toString().padStart(3, '0')}`,
                type: type,
                manufacturer: manufacturer,
                model: `${manufacturer.slice(0, 2).toUpperCase()}-${randomInt(1000, 9999)}`,
                serial_number: serialNumber,
                status: randomChoice(['online', 'offline', 'maintenance', 'error']),
                location: randomChoice(roomNumbers),
                assigned_patient_id: Math.random() > 0.3 ? generateId() : null,
                last_maintenance: new Date(Date.now() - randomInt(1, 365) * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                next_maintenance: new Date(Date.now() + randomInt(30, 180) * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                firmware_version: `${randomInt(1, 3)}.${randomInt(0, 9)}.${randomInt(0, 9)}`,
                created_at: generateDate(randomInt(30, 365))
            };
        }

        // User generation
        function generateUser() {
            const firstName = randomChoice(firstNames);
            const lastName = randomChoice(lastNames);
            
            return {
                id: generateId(),
                email: generateEmail(firstName, lastName),
                first_name: firstName,
                last_name: lastName,
                role: randomChoice(['doctor', 'nurse', 'admin', 'technician']),
                department: randomChoice(departments),
                created_at: generateDate(randomInt(30, 365)),
                last_login: generateDate(randomInt(0, 7))
            };
        }

        // Medical record generation
        function generateMedicalRecord(patientId) {
            const type = randomChoice(['diagnosis', 'medication', 'procedure', 'lab_result', 'note']);
            const records = {
                diagnosis: [
                    { title: 'Hypertension', description: 'Primary hypertension diagnosed during routine checkup' },
                    { title: 'Type 2 Diabetes', description: 'Diabetes mellitus type 2, well controlled' },
                    { title: 'Atrial Fibrillation', description: 'Irregular heart rhythm detected on ECG' }
                ],
                medication: [
                    { title: 'Lisinopril 10mg', description: 'Take once daily for blood pressure control' },
                    { title: 'Metformin 500mg', description: 'Take twice daily with meals for diabetes management' },
                    { title: 'Warfarin 5mg', description: 'Take as directed for anticoagulation' }
                ],
                procedure: [
                    { title: 'Echocardiogram', description: 'Cardiac ultrasound to assess heart function' },
                    { title: 'Blood Draw', description: 'Routine laboratory blood work' },
                    { title: 'X-Ray Chest', description: 'Chest radiograph to evaluate lungs' }
                ],
                lab_result: [
                    { title: 'Complete Blood Count', description: 'WBC: 7.2, RBC: 4.5, Platelets: 250' },
                    { title: 'Basic Metabolic Panel', description: 'Glucose: 95, Creatinine: 1.0, eGFR: >60' },
                    { title: 'Lipid Panel', description: 'Total Cholesterol: 180, HDL: 45, LDL: 110' }
                ],
                note: [
                    { title: 'Progress Note', description: 'Patient showing improvement, vital signs stable' },
                    { title: 'Nursing Note', description: 'Patient ambulating well, no acute distress' },
                    { title: 'Discharge Planning', description: 'Patient ready for discharge, follow-up scheduled' }
                ]
            };

            const recordData = randomChoice(records[type]);
            
            return {
                id: generateId(),
                patient_id: patientId,
                type: type,
                title: recordData.title,
                description: recordData.description,
                date: generateDate(randomInt(0, 30)),
                provider: `Dr. ${randomChoice(lastNames)}`,
                department: randomChoice(departments),
                attachments: Math.random() > 0.7 ? [`attachment_${generateId()}.pdf`] : [],
                created_at: generateDate(randomInt(0, 30))
            };
        }

        // Generation functions
        function generatePatients() {
            const count = parseInt(document.getElementById('patientCount').value);
            mockData.patients = [];
            
            for (let i = 0; i < count; i++) {
                mockData.patients.push(generatePatient());
            }
            
            updateOutput('Patients', mockData.patients);
            updateStats();
        }

        function generateVitalSigns() {
            if (mockData.patients.length === 0) {
                generatePatients();
            }
            
            const days = parseInt(document.getElementById('vitalsDays').value);
            mockData.vitalSigns = [];
            
            mockData.patients.forEach(patient => {
                for (let day = 0; day < days; day++) {
                    // Generate 2-6 readings per day
                    const readingsPerDay = randomInt(2, 6);
                    for (let reading = 0; reading < readingsPerDay; reading++) {
                        const hoursOffset = (day * 24) + (reading * (24 / readingsPerDay));
                        const daysAgo = hoursOffset / 24;
                        mockData.vitalSigns.push(generateVitalSigns(patient.id, daysAgo));
                    }
                }
            });
            
            updateOutput('Vital Signs', mockData.vitalSigns);
            updateStats();
        }

        function generateAlerts() {
            if (mockData.patients.length === 0) {
                generatePatients();
            }
            
            const count = parseInt(document.getElementById('alertCount').value);
            mockData.alerts = [];
            
            for (let i = 0; i < count; i++) {
                const patientId = Math.random() > 0.2 ? randomChoice(mockData.patients).id : null;
                mockData.alerts.push(generateAlert(patientId));
            }
            
            updateOutput('Alerts', mockData.alerts);
            updateStats();
        }

        function generateDevices() {
            const count = parseInt(document.getElementById('deviceCount').value);
            mockData.devices = [];
            
            for (let i = 0; i < count; i++) {
                mockData.devices.push(generateDevice());
            }
            
            updateOutput('Devices', mockData.devices);
            updateStats();
        }

        function generateUsers() {
            const count = 12; // Generate a reasonable number of users
            mockData.users = [];
            
            for (let i = 0; i < count; i++) {
                mockData.users.push(generateUser());
            }
        }

        function generateMedicalRecords() {
            if (mockData.patients.length === 0) return;
            
            mockData.medicalRecords = [];
            
            mockData.patients.forEach(patient => {
                const recordCount = randomInt(3, 8);
                for (let i = 0; i < recordCount; i++) {
                    mockData.medicalRecords.push(generateMedicalRecord(patient.id));
                }
            });
        }

        function generateAll() {
            generatePatients();
            generateVitalSigns();
            generateAlerts();
            generateDevices();
            generateUsers();
            generateMedicalRecords();
            
            const allData = {
                patients: mockData.patients,
                vital_signs: mockData.vitalSigns,
                alerts: mockData.alerts,
                devices: mockData.devices,
                users: mockData.users,
                medical_records: mockData.medicalRecords,
                metadata: {
                    generated_at: new Date().toISOString(),
                    total_records: mockData.patients.length + mockData.vitalSigns.length + 
                                  mockData.alerts.length + mockData.devices.length + 
                                  mockData.users.length + mockData.medicalRecords.length
                }
            };
            
            updateOutput('Complete Dataset', allData);
            updateStats();
        }

        // UI functions
        function updateOutput(title, data) {
            document.getElementById('outputTitle').textContent = `Generated ${title}`;
            document.getElementById('output').textContent = JSON.stringify(data, null, 2);
        }

        function updateStats() {
            document.getElementById('stats').style.display = 'grid';
            document.getElementById('statPatients').textContent = mockData.patients.length;
            document.getElementById('statVitals').textContent = mockData.vitalSigns.length;
            document.getElementById('statAlerts').textContent = mockData.alerts.length;
            document.getElementById('statDevices').textContent = mockData.devices.length;
        }

        function copyToClipboard() {
            const output = document.getElementById('output');
            navigator.clipboard.writeText(output.textContent).then(() => {
                showToast();
            }).catch(err => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = output.textContent;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize with default data
        window.onload = function() {
            generatePatients();
        };
    </script>
</body>
</html>